@using System.Diagnostics.Eventing.Reader
@model IEnumerable<Readit.Models.PostVM>

@{
    ViewBag.Title = "Readit";
}

<h2>Welcome to Readit!</h2>

<p>
    @Html.ActionLink("Create New Post", "Create", null, new {@class = "btn btn-primary btn-lg"})
</p>
<br/>
@foreach (var x in Model)
{
    <div class="readitPost row">
        @if (x.ExternalLink != null)
        {
            <img class="img-responsive img-thumbnail col-md-1" src=@x.ExternalLink/>
        }
        
        <div class="col-md-9">
            @{
                object postDetails = $"/Posts/Details/{x.PostId}";
            }
            <a href=@postDetails class="title">@x.Title</a>
        </div>
        <div class="create col-md-9 col-md-push-2">Created: @x.TimeSinceCreation hours ago by @x.Author</div>
        <div class="col-md-1">@Html.ActionLink("Details", "Details", new { id = x.PostId }, new { @class = "btn btn-primary" }) </div>
    </div>
}

